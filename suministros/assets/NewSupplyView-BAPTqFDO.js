import{r as k,y as U,B as q,c as p,h as r,b as n,i as u,w as N,g as S,E as m,e as t,d as c,G as g,x as v,X as E,l as B,j as K,o as w}from"./index-BRVX3OL0.js";import{u as $,a as j}from"./supply-DsrIHfYf.js";import{H as M}from"./Header-w4jQfehn.js";import{T as C}from"./Top-DcXz3ZAB.js";import{S as F}from"./save-BBjZ7M0T.js";import"./functions-B69Jx-_o.js";const T={class:"flex flex-col space-y-1"},H={class:"col-span-2"},I={class:"ml-2 col-span-3"},D={class:"flex gap-3 my-1.5"},G={class:"flex gap-1"},O={class:"flex gap-1"},P=["error-message"],X={key:0,class:"col-span-3 mt-3"},z={class:"col-span-3"},A={class:"col-span-3 my-2"},J={class:"col-span-3 flex justify-between"},L=["disabled"],Q=["disabled"],se={__name:"NewSupplyView",setup(W){const s=$(),y=K(),l=j(),i=k(null),V=[{name:"Pagina principal",path:"http://172.23.53.149/dai/home",icon:"fas fa-home"},{name:"Suministros",path:"/supplies"},{name:"Nuevo suministro",path:""}],b=[{name:"arrendamiento"},{name:"compra"},{name:"donacion"},{name:"traslado"}],d=U({name:"",stock:null,minimum_stock:null,maximum_stock:null,supply_category_id:null,expiration_date:null,description:""});async function x(){await s.store()===!0&&y.push("/supplies")}return q(()=>{l.index_medida(),l.index_categoria(),l.index_proveedor()}),(f,e)=>{const _=u("Breadcrumbs"),a=u("Input"),R=u("Errors");return w(),p(B,null,[r(M),n("div",null,[r(_,{breadcrumbs:V,class:"mt-10 ml-5"}),n("form",{class:"grid grid-cols-3 gap-0 mt-5 mx-5",onSubmit:e[17]||(e[17]=N(o=>x(),["prevent"]))},[n("div",T,[r(a,{title:"nombre",option:"label",modelValue:t(s).newRecord.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t(s).newRecord.name=o),type:"text",minlength:"3","error-message":d.name,maxlength:"100",onKeyup:e[1]||(e[1]=m(o=>t(s).newRecord.name="",["esc"])),required:!0},null,8,["modelValue","error-message"])]),r(a,{title:"stock actual",option:"numeric",modelValue:t(s).newRecord.stock,"onUpdate:modelValue":e[2]||(e[2]=o=>t(s).newRecord.stock=o),required:"",type:"number",min:"0",onKeyup:e[3]||(e[3]=m(o=>t(s).newRecord.stock="",["esc"])),"error-message":d.stock},null,8,["modelValue","error-message"]),r(a,{title:"stock minimo",option:"numeric",modelValue:t(s).newRecord.minimum_stock,"onUpdate:modelValue":e[4]||(e[4]=o=>t(s).newRecord.minimum_stock=o),required:"",type:"number",min:"1",onKeyup:e[5]||(e[5]=m(o=>t(s).newRecord.minimum_stock="",["esc"])),"error-message":d.minimum_stock},null,8,["modelValue","error-message"]),r(a,{title:"stock maximo",option:"numeric",modelValue:t(s).newRecord.maximum_stock,"onUpdate:modelValue":e[6]||(e[6]=o=>t(s).newRecord.maximum_stock=o),required:"",type:"number",min:"1",onKeyup:e[7]||(e[7]=m(o=>t(s).newRecord.maximum_stock="",["esc"])),"error-message":d.maximum_stock},null,8,["modelValue","error-message"]),r(a,{title:"proveedor",option:"select",modelValue:t(s).newRecord.provider_id,"onUpdate:modelValue":e[8]||(e[8]=o=>t(s).newRecord.provider_id=o),datos:t(l).proveedores,values:"id",names:"name",reduce:o=>o.id},null,8,["modelValue","datos","reduce"]),r(a,{title:"categoria",option:"select",modelValue:t(s).newRecord.supply_category_id,"onUpdate:modelValue":e[9]||(e[9]=o=>t(s).newRecord.supply_category_id=o),datos:t(l).categorias,values:"id",names:"name",required:!0,reduce:o=>o.id,"error-message":d.supply_category_id},null,8,["modelValue","datos","reduce","error-message"]),n("div",H,[r(a,{title:"unidad de medida",option:"select",modelValue:t(s).newRecord.measurement_unit_id,"onUpdate:modelValue":e[10]||(e[10]=o=>t(s).newRecord.measurement_unit_id=o),datos:t(l).medidas,values:"id",names:"name",required:!0,reduce:o=>o.id,loading:t(l).loading_medidas},null,8,["modelValue","datos","reduce","loading"])]),r(a,{title:"tipo de adquisición",option:"select",modelValue:t(s).newRecord.type_acquisition,"onUpdate:modelValue":e[11]||(e[11]=o=>t(s).newRecord.type_acquisition=o),datos:b,values:"name",names:"name",reduce:o=>o.name,required:!0,loading:!1},null,8,["modelValue","reduce"]),n("div",I,[e[20]||(e[20]=n("label",{class:"font-bold"},"¿El suministro tiene fecha de caducidad?",-1)),n("div",D,[n("div",G,[e[18]||(e[18]=n("label",null,"SÍ",-1)),c(n("input",{name:"fecha",type:"radio",value:"true","onUpdate:modelValue":e[12]||(e[12]=o=>i.value=o)},null,512),[[g,i.value]])]),n("div",O,[e[19]||(e[19]=n("label",null,"NO",-1)),c(n("input",{name:"fecha",type:"radio",value:"false","onUpdate:modelValue":e[13]||(e[13]=o=>i.value=o),"error-message":d.supply_category_id},null,8,P),[[g,i.value]])])])]),i.value==="true"?(w(),p("div",X,[r(a,{option:"date",title:"Fecha de caducidad",modelValue:t(s).newRecord.expiration_date,"onUpdate:modelValue":e[14]||(e[14]=o=>t(s).newRecord.expiration_date=o),"error-message":d.expiration_date},null,8,["modelValue","error-message"])])):S("",!0),n("div",z,[r(a,{title:"descripción",option:"area",modelValue:t(s).newRecord.description,"onUpdate:modelValue":e[15]||(e[15]=o=>t(s).newRecord.description=o),required:"",minlength:"8",maxlength:"250",onKeyup:e[16]||(e[16]=m(o=>t(s).newRecord.description="",["esc"]))},null,8,["modelValue"])]),n("div",A,[r(R,{errors:t(s).validationErrors},null,8,["errors"])]),n("div",J,[n("button",{type:"button",disabled:t(s).buttonNew,class:"bg-red-500 rounded-xl text-white font-semibold px-2 py-1 flex items-center justify-center gap-1"},[e[21]||(e[21]=v("Cancelar ")),r(t(E),{class:"h-4 w-4"})],8,L),n("button",{type:"submit",disabled:t(s).buttonNew,class:"bg-green-500 rounded-xl text-white font-semibold px-2 py-1 flex items-center justify-center gap-1 disabled:bg-slate-400 disabled:cursor-not-allowed"},[e[22]||(e[22]=v("Enviar ")),r(t(F),{class:"h-4 w-4"})],8,Q)])],32)]),r(C)],64)}}};export{se as default};
