import{k as g,_ as V,u as D,r as d,y as m,B as I,N as z,c,b as e,g as p,h as O,t as n,n as u,z as x,l as k,m as w,q as v,x as C,s as U,i as E,T as P,j as R,o as a}from"./index-CT9M8n2Q.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=g("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=g("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=g("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=g("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),J={class:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},G={class:"flex justify-between items-center h-16"},Q={class:"flex items-center space-x-4"},W={class:"flex-shrink-0 flex items-center"},X={class:"ml-3"},Y={class:"flex items-center space-x-4"},Z={class:"relative"},ee=["src","alt"],te={class:"hidden md:block text-left"},se={class:"text-sm font-medium text-gray-900"},oe={class:"text-xs text-gray-500"},ae={key:0,class:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50"},re={class:"px-4 py-3 border-b border-gray-100"},ne={class:"flex items-center space-x-3"},le=["src","alt"],ce={class:"text-sm font-medium text-gray-900"},ie={class:"text-xs text-gray-500"},de={class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 mt-1"},ue={class:"py-1"},ge={key:0,class:"ml-auto bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded-full"},he={class:"border-t border-gray-100 px-4 py-2"},me={class:"text-xs text-gray-500"},pe={key:0,class:"md:hidden border-t border-gray-200 bg-white"},xe={class:"px-2 pt-2 pb-3 space-y-1"},ve={__name:"Header",setup(fe){const f=D(),M=R(),i=d(!1),A=d(!1),h=d(null);let s=null;try{s=JSON.parse(localStorage.getItem("user"))}catch(l){console.warn("Error parsing user from localStorage:",l)}const r=m({name:(s==null?void 0:s.smallname)||"Desconocido",email:(s==null?void 0:s.email)||"Desconocido",role:f.rol,avatar:"http://172.23.53.149/auditoria/public/storage/"+((s==null?void 0:s.image)||"@/assets/muni.png")}),j=m([{name:"Dashboard",active:!0},{name:"Aplicaciones",active:!1},{name:"Reportes",active:!1},{name:"Configuración",active:!1}]),H=m([{name:"Mi Perfil",icon:F,danger:!1,route:"/profile"},{name:"Cambiar Contraseña",icon:q,danger:!1,route:"/change"},{name:"Ayuda",icon:$,danger:!1,route:"/faq"},{name:"Cerrar Sesión",icon:T,action:"logout",route:"/login",danger:!0}]),N=d("Hace 0 horas"),B=()=>{i.value=!i.value},L=l=>{switch(i.value=!1,l){case"profile":console.log("Abriendo perfil de usuario"),alert("Navegando a Mi Perfil");break;case"settings":console.log("Abriendo configuración"),alert("Navegando a Configuración");break;case"changePassword":S();break;case"security":console.log("Abriendo configuración de seguridad"),alert("Navegando a Seguridad");break;case"help":console.log("Abriendo ayuda"),alert("Navegando a Centro de Ayuda");break;case"logout":console.log("Cerrando sesión"),f.logout();break;default:console.log(`Acción no reconocida: ${l}`)}},S=()=>{console.log("Cerrando sesión"),M.push({name:"change"})},y=()=>{window.location.href="http://172.23.53.149/dai/home"},b=l=>{h.value&&!h.value.contains(l.target)&&(i.value=!1)};return I(()=>{document.addEventListener("click",b)}),z(()=>{document.removeEventListener("click",b)}),(l,o)=>{const _=E("router-link");return a(),c("header",J,[e("div",K,[e("div",G,[e("div",Q,[e("div",W,[e("div",{class:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-lg cursor-pointer",onClick:o[0]||(o[0]=t=>y())},o[2]||(o[2]=[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6"})],-1)])),e("div",X,[e("h1",{class:"text-xl font-bold text-gray-900 cursor-pointer",onClick:o[1]||(o[1]=t=>y())},"DAI")])])]),e("div",Y,[e("div",{class:"relative",ref_key:"userMenuRef",ref:h},[e("button",{onClick:B,class:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},[e("div",Z,[e("img",{src:r.avatar,alt:r.name,class:"w-8 h-8 rounded-full object-cover ring-2 ring-gray-200"},null,8,ee),o[3]||(o[3]=e("div",{class:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 border-2 border-white rounded-full"},null,-1))]),e("div",te,[e("p",se,n(r.name),1),e("p",oe,n(r.role),1)]),(a(),c("svg",{class:u(["w-4 h-4 text-gray-400 transition-transform duration-200",{"rotate-180":i.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},o[4]||(o[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),O(P,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:x(()=>[i.value?(a(),c("div",ae,[e("div",re,[e("div",ne,[e("img",{src:r.avatar,alt:r.name,class:"w-10 h-10 rounded-full object-cover"},null,8,le),e("div",null,[e("p",ce,n(r.name),1),e("p",ie,n(r.email),1),e("span",de,n(r.role),1)])])]),e("div",ue,[(a(!0),c(k,null,w(H,t=>(a(),v(_,{key:t.name,to:t.route,onClick:ye=>L(t.action),class:u(["group flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors duration-200",{"text-red-600 hover:text-red-700 hover:bg-red-50":t.danger}])},{default:x(()=>[(a(),v(U(t.icon),{class:u(["mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500",{"text-red-400 group-hover:text-red-500":t.danger}])},null,8,["class"])),C(" "+n(t.name)+" ",1),t.badge?(a(),c("span",ge,n(t.badge),1)):p("",!0)]),_:2},1032,["to","onClick","class"]))),128))]),e("div",he,[e("p",me," Última conexión: "+n(N.value),1)])])):p("",!0)]),_:1})],512)])])]),A.value?(a(),c("div",pe,[e("div",xe,[(a(!0),c(k,null,w(j,t=>(a(),v(_,{key:t.name,path:t.route,class:u(["block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50",{"text-blue-600 bg-blue-50":t.active}])},{default:x(()=>[C(n(t.name),1)]),_:2},1032,["path","class"]))),128))])])):p("",!0)])}}},_e=V(ve,[["__scopeId","data-v-a3dcc11c"]]);export{_e as H,F as U};
