import{I as i,J as t}from"./index-CwaQPSV_.js";function c(e,s,r=null){var o;e.response?(s(`Error ${e.response.status}: ${((o=e.response.data)==null?void 0:o.message)||"Error del servidor"}`,"danger","Error"),r&&e.response.data.errors&&r(e.response.data.errors)):e.request?s("No se recibió respuesta del servidor","danger","Error"):s(e,"danger","Error")}async function f(e){var r;const s=i();try{const o=await t.get(e);if(o.status===200)return o.data.datos??[];{const n=new Error(((r=o.data)==null?void 0:r.message)||"Error inesperado");throw n.response=o,n}}catch(o){throw c(o,s.setAlert),o}}async function d(e,s){var o;const r=i();try{const n=await t.get(`${e}/${s}`);if(n.status===200)return n.data.datos??null;{const a=new Error(((o=n.data)==null?void 0:o.message)||"Error inesperado");throw a.response=n,a}}catch(n){throw c(n,r.setAlert),n}}function l(e){const s=new FormData;for(const r in e)e[r]instanceof File?s.append(r,e[r]):Array.isArray(e[r])?e[r].forEach((o,n)=>{s.append(`${r}[${n}]`,o)}):s.append(r,e[r]);return s}const y={async store(e,s,r=!0){const o=r?l(s):s;return await t.post(e,o)}},w={async destroy(e){return await t.delete(e)}};function p(e){const s=new FormData;for(const r in e)e[r]instanceof File?s.append(r,e[r]):Array.isArray(e[r])?e[r].forEach((o,n)=>{s.append(`${r}[${n}]`,o)}):s.append(r,e[r]);return s}const h={async update(e,s={},r=!1){var o;try{let n={};return Object.keys(s).length>0&&(n=r?p(s):s),await t.post(e,n||{})}catch(n){throw n.response?new Error(((o=n.response.data)==null?void 0:o.message)||"Error en la petición"):n.request?new Error("No hubo respuesta del servidor"):new Error(n.message)}}};function E(e){if(e&&e.value!==void 0)e.value=null;else if(typeof e=="object"&&e!==null)for(let s in e)e.hasOwnProperty(s)&&(e[s]=null);else Array.isArray(e)?e.length=0:e=null}export{d as a,h as b,w as d,c as h,E as l,y as s,f as u};
